record(bi,"$(P)$(R)value_get_dimension"){
    field(DTYP, "stream")
    field(INP, "@peaktech2025.proto readdimension $(PORT)")
    field(SCAN, "I/O Intr")
    field(FLNK, "$(P)$(R)value_get_calc1.PROC")
}

record(ai,"$(P)$(R)value_get_raw")
{
    field(DTYP, "stream")
    field(INP, "@peaktech2025.proto readraw $(PORT)")
    field(SCAN, "I/O Intr")
    field(FLNK, "$(P)$(R)value_get_calc1.PROC")
}


record(ai,"$(P)$(R)value_get_decimalsign")
{
    field(DTYP, "stream")
    field(INP, "@peaktech2025.proto readds $(PORT)")
    field(SCAN, "I/O Intr")
    field(FLNK, "$(P)$(R)value_get_calc1.PROC")
}

record(ai,"$(P)$(R)value_get_order")
{
    field(DTYP, "stream")
    field(INP, "@peaktech2025.proto readorder $(PORT)")
    field(SCAN, "I/O Intr")
    field(FLNK, "$(P)$(R)value_get_calc1.PROC")
}

record(calc,"$(P)$(R)value_get_calc1")
{
    field(INPA, "$(P)$(R)value_get_raw")
    field(INPB, "$(P)$(R)value_get_decimalsign")
    field(CALC, "B=0?A:B=1?A*0.001:B=2?A*0.01:A*0.1")
    field(FLNK, "$(P)$(R)value_get.PROC")
}
#
record(calc,"$(P)$(R)value_get")
{
    field(INPC, "$(P)$(R)value_get_calc1")
    field(INPD, "$(P)$(R)value_get_dimension")
    field(CALC, "D=0?C:C*1e-3")
    field(EGU, "V")
}
